Document Management Service
Описание проекта:
Backend-сервис для управления жизненным циклом документов (DRAFT -> SUBMITTED -> APPROVED) с поддержкой пакетной обработки, ведением истории изменения статусов и реестром утверждений.

Стек технологий
Java 17+ / Spring Boot

PostgreSQL (Docker Compose)

Spring Data JPA / Hibernate

Liquibase

Maven / Gradle

Запуск проекта
1. Подготовка базы данных
   В корне проекта находится файл docker-compose.yaml. Поднимите PostgreSQL командой:

docker-compose up -d

Liquibase автоматически накатит все необходимые миграции при старте приложения (настроена стратегия ddl-auto: validate).

2. Запуск сервиса
   Запустите основное приложение DocumentServiceApp через вашу IDE или с помощью инструмента сборки:

./mvnw spring-boot:run

Сервис будет запущен на порту: 8080.

3. Запуск утилиты генерации (DocumentGeneratorUtil)
   В корне проекта находится конфигурационный файл generator.properties. В нем можно задать количество генерируемых документов и URL API:

Properties
generator.document.count=100
generator.api.url=http://localhost:8080/api/v1/documents
Запустите класс DocumentGeneratorUtil (содержит метод main). Утилита асинхронно создаст указанное количество документов в статусе DRAFT, логируя прогресс в консоль.

Проверка прогресса фоновой обработки (Логи)
В сервисе работают два независимых асинхронных воркера (SUBMIT-worker и APPROVE-worker). После запуска утилиты генерации перейдите в консоль Spring Boot приложения. Вы увидите логи, отображающие время выполнения, количество успехов/ошибок и остаток документов в очереди:

Plaintext
SUBMIT-worker: Пачка обработана за 133 мс. Успешно: 10, Ошибок: 0. Осталось DRAFT: 90
APPROVE-worker: Пачка обработана за 143 мс. Успешно: 10, Ошибок: 0. Осталось SUBMITTED: 0
Воркеры обрабатывают документы атомарно. Частичные ошибки (например, конфликт версий) не останавливают обработку всей пачки.